{"version":3,"mappings":"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","names":["BASE_URL","fetchData","endpoint","options","res","body","err","getQuote","getFilters","filter","page","limit","params","getExercises","query","getExerciseById","id","patchExerciseRating","postSubscription","email","QUOTE_STORAGE_KEY","getTodayDateString","getCachedQuote","cached","quote","author","date","cacheQuote","initQuote","quoteEl","authorEl","data","trashIcon","starOrangeIcon","starGreyIcon","arrowRightIcon","runningManLightIcon","xLightIcon","heartDarkIcon","heartFilledDarkIcon","chevronLeftDark","chevronLeftLight","chevronDoubleLeftDark","chevronDoubleLeftLight","icons","filterCardMarkup","name","imgURL","workoutCardMarkup","exercise","showTrash","trashBtn","ratingValue","exerciseModalMarkup","isFav","stars","renderStars","favText","heartIcon","ratingModalMarkup","exerciseId","n","rating","full","renderPagination","containerEl","currentPage","totalPages","onPageClick","isFirstPage","isLastPage","leftArrows","numbersContainer","getPaginationRange","ellipsis","span","rightArrows","e","target","pageValue","newPage","current","total","_","i","pages","midPoint","start","end","searchContainer","onSearchCallback","initSearch","onSearch","input","btn","handleKeydown","handleClick","destroySearch","doSearch","currentParams","listEl","paginationEl","goBack","showExercises","categoryName","paramName","titleEl","_listEl","_paginationEl","_goBack","backBtn","hideExercises","keyword","fetchAndRender","k","items","ex","FILTER_MAP","PARAM_MAP","currentFilter","initFilters","tabsContainer","tab","t","card","fetchFilters","STORAGE_KEY","PER_PAGE","getFavorites","addFavorite","favs","f","removeFavorite","isFavorite","initFavoritesPage","render","slice","initSubscription","form","emailPattern","msgEl","backdropEl","initRatingModal","closeRatingModal","openRatingModal","selectedRating","valueEl","star","updateStars","review","openModal","__vitePreload","exerciseModal","val","initExerciseModal","startBtn","closeModal","favBtn","textEl","iconEl","getFavoritesModule","ratingBtn","menuOpenBtn","menuCloseBtn","mobileMenu","yearEl"],"ignoreList":[],"sources":["../../src/js/api.js","../../src/js/quote.js","../../src/images/icons/trash.svg","../../src/images/icons/star-orange.svg","../../src/images/icons/star-grey.svg","../../src/images/icons/arrow-right.svg","../../src/images/icons/running-man-light.svg","../../src/images/icons/x-light.svg","../../src/images/icons/heart-dark.svg","../../src/images/icons/heart-filled-dark.svg","../../src/images/icons/chevron-left-dark.svg","../../src/images/icons/chevron-left-light.svg","../../src/images/icons/chevron-double-left-dark.svg","../../src/images/icons/chevron-double-left-light.svg","../../src/js/icons.js","../../src/js/markup.js","../../src/js/pagination.js","../../src/js/search.js","../../src/js/exercises.js","../../src/js/filters.js","../../src/js/favorites.js","../../src/js/subscription.js","../../src/js/rating-modal.js","../../src/js/exercise-modal.js","../../src/main.js"],"sourcesContent":["const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nasync function fetchData(endpoint, options = {}) {\n  const res = await fetch(`${BASE_URL}${endpoint}`, options);\n  if (!res.ok) {\n    let body;\n    try {\n      body = await res.json();\n    } catch {}\n    const err = new Error(body?.message || `HTTP ${res.status}`);\n    err.status = res.status;\n    throw err;\n  }\n  return res.json();\n}\n\nexport function getQuote() {\n  return fetchData('/quote');\n}\n\nexport function getFilters(filter, page = 1, limit = 12) {\n  const params = new URLSearchParams({ filter, page, limit });\n  return fetchData(`/filters?${params}`);\n}\n\nexport function getExercises(params = {}) {\n  const query = new URLSearchParams(params);\n  return fetchData(`/exercises?${query}`);\n}\n\nexport function getExerciseById(id) {\n  return fetchData(`/exercises/${id}`);\n}\n\nexport function patchExerciseRating(id, body) {\n  return fetchData(`/exercises/${id}/rating`, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body),\n  });\n}\n\nexport function postSubscription(email) {\n  return fetchData('/subscription', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email }),\n  });\n}\n","import { getQuote } from './api.js';\n\nconst QUOTE_STORAGE_KEY = 'dailyQuote';\n\nfunction getTodayDateString() {\n  return new Date().toDateString();\n}\n\nfunction getCachedQuote() {\n  try {\n    const cached = localStorage.getItem(QUOTE_STORAGE_KEY);\n    if (!cached) return null;\n\n    const { quote, author, date } = JSON.parse(cached);\n    if (date !== getTodayDateString()) return null;\n\n    return { quote, author };\n  } catch {\n    return null;\n  }\n}\n\nfunction cacheQuote(quote, author) {\n  try {\n    localStorage.setItem(\n      QUOTE_STORAGE_KEY,\n      JSON.stringify({ quote, author, date: getTodayDateString() })\n    );\n  } catch {}\n}\n\nexport function initQuote() {\n  const quoteEl = document.querySelector('.quote-card-quote');\n  const authorEl = document.querySelector('.quote-card-author');\n  if (!quoteEl || !authorEl) return;\n\n  const cached = getCachedQuote();\n  if (cached) {\n    quoteEl.textContent = cached.quote;\n    authorEl.textContent = cached.author;\n    return;\n  }\n\n  getQuote()\n    .then(data => {\n      quoteEl.textContent = data.quote;\n      authorEl.textContent = data.author;\n      cacheQuote(data.quote, data.author);\n    })\n    .catch(() => {});\n}\n","export default \"data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2016.5%2018.1667'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Icon'%20d='M11.5833%204.08333V3.41667C11.5833%202.48325%2011.5833%202.01654%2011.4017%201.66002C11.2419%201.34641%2010.9869%201.09145%2010.6733%200.931657C10.3168%200.750001%209.85009%200.750001%208.91667%200.750001H7.58333C6.64991%200.750001%206.1832%200.750001%205.82668%200.931657C5.51308%201.09145%205.25811%201.34641%205.09832%201.66002C4.91667%202.01654%204.91667%202.48325%204.91667%203.41667V4.08333M6.58333%208.66667V12.8333M9.91667%208.66667V12.8333M0.75%204.08333H15.75M14.0833%204.08333V13.4167C14.0833%2014.8168%2014.0833%2015.5169%2013.8108%2016.0516C13.5712%2016.5221%2013.1887%2016.9045%2012.7183%2017.1442C12.1835%2017.4167%2011.4835%2017.4167%2010.0833%2017.4167H6.41667C5.01654%2017.4167%204.31647%2017.4167%203.78169%2017.1442C3.31129%2016.9045%202.92883%2016.5221%202.68915%2016.0516C2.41667%2015.5169%202.41667%2014.8168%202.41667%2013.4167V4.08333'%20stroke='var(--stroke-0,%20%23242424)'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2012.9675%2012.4316'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Star%201'%20d='M5.53268%200.690983C5.83204%20-0.230327%207.13545%20-0.230328%207.4348%200.690983L8.27985%203.2918C8.41373%203.70382%208.79768%203.98278%209.23091%203.98278H11.9656C12.9343%203.98278%2013.3371%205.22239%2012.5534%205.7918L10.341%207.39919C9.99048%207.65383%209.84382%208.1052%209.9777%208.51722L10.8228%2011.118C11.1221%2012.0393%2010.0676%2012.8055%209.28391%2012.2361L7.07153%2010.6287C6.72104%2010.374%206.24644%2010.374%205.89596%2010.6287L3.68357%2012.2361C2.89986%2012.8055%201.84538%2012.0393%202.14473%2011.118L2.98978%208.51722C3.12366%208.1052%202.977%207.65383%202.62651%207.39919L0.414132%205.7918C-0.369582%205.2224%200.0331929%203.98278%201.00192%203.98278H3.73657C4.1698%203.98278%204.55375%203.70382%204.68763%203.2918L5.53268%200.690983Z'%20fill='var(--fill-0,%20%23EEA10C)'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2012.9675%2012.4316'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Star%205'%20d='M5.53268%200.690983C5.83204%20-0.230327%207.13545%20-0.230328%207.4348%200.690983L8.27985%203.2918C8.41373%203.70382%208.79768%203.98278%209.23091%203.98278H11.9656C12.9343%203.98278%2013.3371%205.22239%2012.5534%205.7918L10.341%207.39919C9.99048%207.65383%209.84382%208.1052%209.9777%208.51722L10.8228%2011.118C11.1221%2012.0393%2010.0676%2012.8055%209.28391%2012.2361L7.07153%2010.6287C6.72104%2010.374%206.24644%2010.374%205.89596%2010.6287L3.68357%2012.2361C2.89986%2012.8055%201.84538%2012.0393%202.14473%2011.118L2.98978%208.51722C3.12366%208.1052%202.977%207.65383%202.62651%207.39919L0.414132%205.7918C-0.369582%205.2224%200.0331929%203.98278%201.00192%203.98278H3.73657C4.1698%203.98278%204.55375%203.70382%204.68763%203.2918L5.53268%200.690983Z'%20fill='var(--fill-0,%20%23F4F4F4)'%20fill-opacity='0.2'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='15'%20height='15'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.1499%2013.6499L13.6499%207.1499M13.6499%207.1499L7.1499%200.649902M13.6499%207.1499H0.649902'%20stroke='%23242424'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23F4F4F4'%20fill-opacity='0.2'/%3e%3cpath%20d='M24.7293%2011.907C24.4611%2011.594%2023.9834%2011.5528%2023.6631%2011.8138L21.5637%2013.5369L20.5983%2011.1998C20.564%2011.1121%2020.5119%2011.0384%2020.452%2010.9734C20.2547%2010.5446%2019.9122%2010.1763%2019.44%209.96297C19.235%209.872%2019.0233%209.82326%2018.8116%209.79944C18.765%209.77561%2018.7229%209.7442%2018.6697%209.72796L14.9754%208.72184C14.7681%208.6666%2014.5597%208.70234%2014.3891%208.79981C14.1862%208.86696%2014.0122%209.011%2013.9291%209.22002L12.538%2012.7149C12.3873%2013.0951%2012.5801%2013.5239%2012.9703%2013.6734C13.3582%2013.8207%2013.7983%2013.6311%2013.9501%2013.2499L15.125%2010.2987L16.8076%2010.7557C16.7666%2010.8207%2016.7222%2010.8814%2016.689%2010.9507L14.532%2015.5188C14.501%2015.586%2014.4844%2015.6542%2014.4622%2015.7235L11.8408%2020.0177L7.45378%2021.4516C6.95721%2021.8144%206.85192%2022.4978%207.2188%2022.983C7.5879%2023.4692%208.28951%2023.5721%208.78497%2023.2137L13.274%2021.7029C13.4114%2021.6054%2013.5112%2021.4776%2013.5866%2021.34C13.6431%2021.2816%2013.7074%2021.235%2013.7506%2021.1624L15.3135%2018.6022L18.0878%2020.9123L15.1195%2024.1808C14.7105%2024.6313%2014.7515%2025.3255%2015.2148%2025.7241C15.677%2026.1259%2016.3853%2026.0836%2016.7965%2025.6309L20.5008%2021.5534C20.6161%2021.4278%2020.6848%2021.2826%2020.7313%2021.131C20.759%2021.0487%2020.759%2020.9632%2020.7657%2020.8776C20.7657%2020.8343%2020.7823%2020.7953%2020.779%2020.7552C20.769%2020.4563%2020.6449%2020.1661%2020.3944%2019.9592L17.8417%2017.8322C18.0257%2017.661%2018.182%2017.4574%2018.2951%2017.2181L19.9488%2013.7189L20.4786%2015.0975C20.5008%2015.2199%2020.5429%2015.3401%2020.6316%2015.4409C20.7114%2015.534%2020.8134%2015.5957%2020.922%2015.6391C20.9331%2015.6445%2020.9464%2015.6456%2020.9597%2015.6488C21.0284%2015.6726%2021.0982%2015.6954%2021.1703%2015.6986C21.2556%2015.7062%2021.3421%2015.6954%2021.4296%2015.6715C21.4318%2015.6705%2021.4329%2015.6705%2021.4329%2015.6705C21.4562%2015.665%2021.4795%2015.6694%2021.5028%2015.6596C21.6258%2015.6141%2021.72%2015.5372%2021.8009%2015.4474L24.8136%2012.9488C25.1339%2012.6857%2024.9987%2012.22%2024.7293%2011.907Z'%20fill='%23F4F4F4'/%3e%3cpath%20d='M20.9191%2010.1263C22.0853%2010.1263%2023.0306%209.20259%2023.0306%208.06314C23.0306%206.9237%2022.0853%206%2020.9191%206C19.753%206%2018.8076%206.9237%2018.8076%208.06314C18.8076%209.20259%2019.753%2010.1263%2020.9191%2010.1263Z'%20fill='%23F4F4F4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%206L6%2018M6%206L18%2018'%20stroke='%23F4F4F4'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.3671%203.84172C16.9415%203.41589%2016.4361%203.0781%2015.8799%202.84763C15.3237%202.61716%2014.7275%202.49854%2014.1254%202.49854C13.5234%202.49854%2012.9272%202.61716%2012.371%202.84763C11.8147%203.0781%2011.3094%203.41589%2010.8838%203.84172L10.0004%204.72506L9.11709%203.84172C8.25735%202.98198%207.09128%202.49898%205.87542%202.49898C4.65956%202.49898%203.4935%202.98198%202.63376%203.84172C1.77401%204.70147%201.29102%205.86753%201.29102%207.08339C1.29102%208.29925%201.77401%209.46531%202.63376%2010.3251L3.51709%2011.2084L10.0004%2017.6917L16.4838%2011.2084L17.3671%2010.3251C17.7929%209.89943%2018.1307%209.39407%2018.3612%208.83785C18.5917%208.28164%2018.7103%207.68546%2018.7103%207.08339C18.7103%206.48132%2018.5917%205.88514%2018.3612%205.32893C18.1307%204.77271%2017.7929%204.26735%2017.3671%203.84172Z'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.3671%203.84172C16.9415%203.41589%2016.4361%203.0781%2015.8799%202.84763C15.3237%202.61716%2014.7275%202.49854%2014.1254%202.49854C13.5234%202.49854%2012.9272%202.61716%2012.371%202.84763C11.8147%203.0781%2011.3094%203.41589%2010.8838%203.84172L10.0004%204.72506L9.11709%203.84172C8.25735%202.98198%207.09128%202.49898%205.87542%202.49898C4.65956%202.49898%203.4935%202.98198%202.63376%203.84172C1.77401%204.70147%201.29102%205.86753%201.29102%207.08339C1.29102%208.29925%201.77401%209.46531%202.63376%2010.3251L3.51709%2011.2084L10.0004%2017.6917L16.4838%2011.2084L17.3671%2010.3251C17.7929%209.89943%2018.1307%209.39407%2018.3612%208.83785C18.5917%208.28164%2018.7103%207.68546%2018.7103%207.08339C18.7103%206.48132%2018.5917%205.88514%2018.3612%205.32893C18.1307%204.77271%2017.7929%204.26735%2017.3671%203.84172Z'%20fill='%23242424'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%2015L7.5%2010L12.5%205'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%2015L7.5%2010L12.5%205'%20stroke='%23d4d4d4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2015L5%2010L10%205'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%2015L10%2010L15%205'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2015L5%2010L10%205'%20stroke='%23d4d4d4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%2015L10%2010L15%205'%20stroke='%23d4d4d4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","import trashIcon from '../images/icons/trash.svg';\nimport starOrangeIcon from '../images/icons/star-orange.svg';\nimport starGreyIcon from '../images/icons/star-grey.svg';\nimport arrowRightIcon from '../images/icons/arrow-right.svg';\nimport runningManLightIcon from '../images/icons/running-man-light.svg';\nimport xLightIcon from '../images/icons/x-light.svg';\nimport heartDarkIcon from '../images/icons/heart-dark.svg';\nimport heartFilledDarkIcon from '../images/icons/heart-filled-dark.svg';\nimport chevronLeftDark from '../images/icons/chevron-left-dark.svg';\nimport chevronLeftLight from '../images/icons/chevron-left-light.svg';\nimport chevronDoubleLeftDark from '../images/icons/chevron-double-left-dark.svg';\nimport chevronDoubleLeftLight from '../images/icons/chevron-double-left-light.svg';\n\nexport const icons = {\n  trash: trashIcon,\n  starOrange: starOrangeIcon,\n  starGrey: starGreyIcon,\n  arrowRight: arrowRightIcon,\n  runningManLight: runningManLightIcon,\n  xLight: xLightIcon,\n  heartDark: heartDarkIcon,\n  heartFilledDark: heartFilledDarkIcon,\n  chevronLeftDark,\n  chevronLeftLight,\n  chevronDoubleLeftDark,\n  chevronDoubleLeftLight,\n};\n","import { icons } from './icons.js';\n\nexport function filterCardMarkup({ name, filter, imgURL }) {\n  return `<li class=\"exercise-card\" data-name=\"${name}\" data-filter=\"${filter}\">\n  <a class=\"exercise-card-link\" href=\"#\">\n    <img src=\"${imgURL}\" alt=\"${name}\" class=\"exercise-card-img\" loading=\"lazy\" />\n    <div class=\"exercise-card-overlay\">\n      <p class=\"exercise-card-name\">${name}</p>\n      <p class=\"exercise-card-subtitle\">${filter}</p>\n    </div>\n  </a>\n</li>`;\n}\n\nexport function workoutCardMarkup(exercise, { showTrash = false } = {}) {\n  const trashBtn = showTrash\n    ? `<button class=\"workout-card-trash\" type=\"button\" aria-label=\"Remove from favorites\" data-remove-id=\"${exercise._id}\">\n        <img src=\"${icons.trash}\" alt=\"\" width=\"16\" height=\"16\" />\n      </button>`\n    : '';\n\n  const ratingValue = exercise.rating ? exercise.rating.toFixed(1) : '0.0';\n\n  return `<li class=\"workout-card\" data-exercise-id=\"${exercise._id}\">\n  <div class=\"workout-card-top\">\n    <span class=\"workout-card-badge\">WORKOUT</span>\n    <span class=\"workout-card-rating\">${ratingValue}<img src=\"${icons.starOrange}\" alt=\"rating\" /></span>\n    ${trashBtn}\n    <button class=\"workout-card-start\" type=\"button\" data-start-id=\"${exercise._id}\">Start <img src=\"${icons.arrowRight}\" alt=\"\" /></button>\n  </div>\n  <div class=\"workout-card-body\">\n    <div class=\"workout-card-icon\">\n      <img src=\"${icons.runningManLight}\" alt=\"\" width=\"24\" height=\"24\" />\n    </div>\n    <h3 class=\"workout-card-name\">${exercise.name}</h3>\n  </div>\n  <div class=\"workout-card-meta\">\n    <span>Burned calories: <strong>${exercise.burnedCalories} / ${exercise.time} min</strong></span>\n    <span>Body part: <strong>${exercise.bodyPart}</strong></span>\n    <span>Target: <strong>${exercise.target}</strong></span>\n  </div>\n</li>`;\n}\n\nexport function exerciseModalMarkup(exercise, isFav) {\n  const stars = renderStars(exercise.rating);\n  const favText = isFav ? 'Remove' : 'Add to favorites';\n  const heartIcon = isFav ? icons.heartFilledDark : icons.heartDark;\n\n  return `<div class=\"modal-exercise-content\">\n  <button class=\"modal-close\" type=\"button\" aria-label=\"Close\" data-modal-close>\n    <img class=\"modal-close-icon\" src=\"${icons.xLight}\" alt=\"\" width=\"24\" height=\"24\" />\n  </button>\n  <div class=\"modal-exercise-gif\">\n    <img src=\"${exercise.gifUrl}\" alt=\"${exercise.name}\" />\n  </div>\n  <div class=\"modal-exercise-info\">\n    <h3 class=\"modal-exercise-title\">${exercise.name}</h3>\n    <div class=\"modal-exercise-rating\">\n      <span class=\"modal-exercise-rating-value\">${exercise.rating.toFixed(1)}</span>\n      <div class=\"modal-exercise-stars\">${stars}</div>\n    </div>\n    <div class=\"modal-exercise-details\">\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Target</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.target}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Body Part</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.bodyPart}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Equipment</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.equipment}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Popular</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.popularity}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Burned calories</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.burnedCalories}/${exercise.time} min</span>\n      </div>\n    </div>\n    <p class=\"modal-exercise-desc\">${exercise.description}</p>\n    <div class=\"modal-exercise-actions\">\n      <button class=\"modal-btn modal-btn-fav\" type=\"button\" data-fav-id=\"${exercise._id}\">\n        <span>${favText}</span>\n        <img class=\"modal-btn-fav-icon\" src=\"${heartIcon}\" alt=\"\" width=\"18\" height=\"18\" />\n      </button>\n      <button class=\"modal-btn modal-btn-rating\" type=\"button\" data-rating-id=\"${exercise._id}\">Give a rating</button>\n    </div>\n  </div>\n</div>`;\n}\n\nexport function ratingModalMarkup(exerciseId) {\n  return `<div class=\"modal-rating-content\">\n  <button class=\"modal-close\" type=\"button\" aria-label=\"Close\" data-modal-close>\n    <img class=\"modal-close-icon\" src=\"${icons.xLight}\" alt=\"\" width=\"28\" height=\"28\" />\n  </button>\n  <p class=\"modal-rating-label\">Rating</p>\n  <div class=\"modal-rating-row\">\n    <span class=\"modal-rating-value\">0.0</span>\n    <div class=\"modal-rating-stars\">\n      ${[1, 2, 3, 4, 5]\n        .map(\n          n =>\n            `<img class=\"modal-star\" src=\"${icons.starGrey}\" alt=\"${n} star\" width=\"24\" height=\"24\" data-star=\"${n}\" />`\n        )\n        .join('')}\n    </div>\n  </div>\n  <form class=\"modal-rating-form\" data-exercise-id=\"${exerciseId}\">\n    <input class=\"modal-rating-email\" type=\"email\" name=\"email\" placeholder=\"Email\" pattern=\"^\\\\w+(\\\\.\\\\w+)?@[a-zA-Z_]+(\\\\.[a-zA-Z_]+)*\\\\.[a-zA-Z]{2,3}$\" required/>\n    <textarea class=\"modal-rating-comment\" name=\"review\" placeholder=\"Your comment\" rows=\"4\" required></textarea>\n    <button class=\"modal-rating-submit\" type=\"submit\">Send</button>\n    <p class=\"modal-rating-message\" hidden></p>\n  </form>\n</div>`;\n}\n\nfunction renderStars(rating) {\n  const full = Math.round(rating);\n  return [1, 2, 3, 4, 5]\n    .map(\n      n =>\n        `<img src=\"${n <= full ? icons.starOrange : icons.starGrey}\" alt=\"\" width=\"14\" height=\"14\" />`\n    )\n    .join('');\n}\n","import { icons } from './icons.js';\n\nexport function renderPagination(\n  containerEl,\n  currentPage,\n  totalPages,\n  onPageClick\n) {\n  containerEl.innerHTML = '';\n  if (totalPages <= 1) return;\n\n  const isFirstPage = currentPage === 1;\n  const isLastPage = currentPage === totalPages;\n\n  const leftArrows = document.createElement('div');\n  leftArrows.classList.add('pagination-arrows');\n  leftArrows.innerHTML = `\n    <button class=\"pagination-arrow\" data-page=\"first\" ${isFirstPage ? 'disabled' : ''} aria-label=\"First page\">\n      <img src=\"${isFirstPage ? icons.chevronDoubleLeftLight : icons.chevronDoubleLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\">\n    </button>\n    <button class=\"pagination-arrow\" data-page=\"prev\" ${isFirstPage ? 'disabled' : ''} aria-label=\"Previous page\">\n      <img src=\"${isFirstPage ? icons.chevronLeftLight : icons.chevronLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\">\n    </button>\n  `;\n  containerEl.appendChild(leftArrows);\n\n  const numbersContainer = document.createElement('div');\n  numbersContainer.classList.add('pagination-numbers');\n\n  const pages = getPaginationRange(currentPage, totalPages);\n  pages.forEach(page => {\n    if (page === '...') {\n      const ellipsis = document.createElement('span');\n      ellipsis.classList.add('pagination-ellipsis');\n      ellipsis.textContent = '...';\n      numbersContainer.appendChild(ellipsis);\n    } else {\n      const span = document.createElement('span');\n      span.classList.add('pagination-num');\n      if (page === currentPage) span.classList.add('is-active');\n      span.textContent = page;\n      span.dataset.page = page;\n      numbersContainer.appendChild(span);\n    }\n  });\n  containerEl.appendChild(numbersContainer);\n\n  const rightArrows = document.createElement('div');\n  rightArrows.classList.add('pagination-arrows', 'pagination-arrows--right');\n  rightArrows.innerHTML = `\n    <button class=\"pagination-arrow\" data-page=\"next\" ${isLastPage ? 'disabled' : ''} aria-label=\"Next page\">\n      <img src=\"${isLastPage ? icons.chevronLeftLight : icons.chevronLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\">\n    </button>\n    <button class=\"pagination-arrow\" data-page=\"last\" ${isLastPage ? 'disabled' : ''} aria-label=\"Last page\">\n      <img src=\"${isLastPage ? icons.chevronDoubleLeftLight : icons.chevronDoubleLeftDark}\" alt=\"\" class=\"pagination-arrow-icon\">\n    </button>\n  `;\n  containerEl.appendChild(rightArrows);\n\n  containerEl.onclick = e => {\n    e.stopPropagation();\n    const target = e.target.closest('[data-page]');\n    if (!target || target.disabled) return;\n\n    const pageValue = target.dataset.page;\n    let newPage;\n\n    switch (pageValue) {\n      case 'first':\n        newPage = 1;\n        break;\n      case 'prev':\n        newPage = Math.max(1, currentPage - 1);\n        break;\n      case 'next':\n        newPage = Math.min(totalPages, currentPage + 1);\n        break;\n      case 'last':\n        newPage = totalPages;\n        break;\n      default:\n        newPage = parseInt(pageValue, 10);\n    }\n\n    if (newPage !== currentPage) {\n      onPageClick(newPage);\n    }\n  };\n}\n\nfunction getPaginationRange(current, total) {\n  if (total <= 4) {\n    return Array.from({ length: total }, (_, i) => i + 1);\n  }\n\n  const pages = [];\n  const midPoint = Math.ceil(total / 2);\n\n  let start = Math.max(1, current - 1);\n  let end = Math.min(total, current + 1);\n\n  if (end - start < 2) {\n    if (start === 1) {\n      end = Math.min(3, total);\n    } else if (end === total) {\n      start = Math.max(1, total - 2);\n    }\n  }\n\n  if (current <= midPoint) {\n    for (let i = start; i <= end; i++) {\n      pages.push(i);\n    }\n    if (end < total) {\n      pages.push('...');\n    }\n  } else {\n    if (start > 1) {\n      pages.push('...');\n    }\n    for (let i = start; i <= end; i++) {\n      pages.push(i);\n    }\n  }\n\n  return pages;\n}\n","let searchContainer;\nlet onSearchCallback;\n\nexport function initSearch(onSearch) {\n  searchContainer = document.querySelector('.exercises-search');\n  if (!searchContainer) return;\n  searchContainer.hidden = false;\n  onSearchCallback = onSearch;\n\n  const input = searchContainer.querySelector('.exercises-search-input');\n  const btn = searchContainer.querySelector('.exercises-search-btn');\n\n  input.addEventListener('keydown', handleKeydown);\n  btn.addEventListener('click', handleClick);\n}\n\nexport function destroySearch() {\n  if (!searchContainer) return;\n  searchContainer.hidden = true;\n  const input = searchContainer.querySelector('.exercises-search-input');\n  const btn = searchContainer.querySelector('.exercises-search-btn');\n  input.value = '';\n  input.removeEventListener('keydown', handleKeydown);\n  btn.removeEventListener('click', handleClick);\n  searchContainer = null;\n  onSearchCallback = null;\n}\n\nfunction handleKeydown(e) {\n  if (e.key === 'Enter') {\n    e.preventDefault();\n    doSearch();\n  }\n}\n\nfunction handleClick() {\n  doSearch();\n}\n\nfunction doSearch() {\n  if (!searchContainer || !onSearchCallback) return;\n  const input = searchContainer.querySelector('.exercises-search-input');\n  onSearchCallback(input.value.trim());\n}\n","import { getExercises } from './api.js';\nimport { workoutCardMarkup } from './markup.js';\nimport { renderPagination } from './pagination.js';\nimport { initSearch, destroySearch } from './search.js';\n\nlet currentParams = {};\nlet currentPage = 1;\nlet listEl, paginationEl, goBack;\n\nexport function showExercises(\n  categoryName,\n  paramName,\n  titleEl,\n  _listEl,\n  _paginationEl,\n  _goBack\n) {\n  listEl = _listEl;\n  paginationEl = _paginationEl;\n  goBack = _goBack;\n  currentPage = 1;\n  currentParams = { [paramName]: categoryName, page: 1, limit: 10 };\n\n  if (titleEl) {\n    titleEl.innerHTML = `<span class=\"exercises-title-back\">Exercises</span> / <span class=\"exercises-title-category\">${categoryName}</span>`;\n    const backBtn = titleEl.querySelector('.exercises-title-back');\n    if (backBtn) {\n      backBtn.style.cursor = 'pointer';\n      backBtn.addEventListener(\n        'click',\n        () => {\n          hideExercises();\n          if (titleEl) titleEl.innerHTML = 'Exercises';\n          goBack();\n        },\n        { once: true }\n      );\n    }\n  }\n\n  initSearch(keyword => {\n    currentParams.keyword = keyword || undefined;\n    currentPage = 1;\n    currentParams.page = 1;\n    fetchAndRender();\n  });\n\n  fetchAndRender();\n}\n\nexport function hideExercises() {\n  destroySearch();\n  if (listEl) listEl.classList.remove('exercises-list--workouts');\n}\n\nasync function fetchAndRender() {\n  if (!listEl) return;\n  try {\n    const params = { ...currentParams, page: currentPage };\n    Object.keys(params).forEach(\n      k => params[k] === undefined && delete params[k]\n    );\n    const data = await getExercises(params);\n    const items = data.results || [];\n\n    if (items.length === 0) {\n      listEl.innerHTML =\n        '<li class=\"workout-card\"><p style=\"padding:20px;text-align:center;\">No exercises found.</p></li>';\n    } else {\n      listEl.innerHTML = items.map(ex => workoutCardMarkup(ex)).join('');\n    }\n    listEl.classList.add('exercises-list--workouts');\n\n    const totalPages = parseInt(data.totalPages, 10) || 1;\n    if (paginationEl) {\n      renderPagination(paginationEl, currentPage, totalPages, page => {\n        currentPage = page;\n        fetchAndRender();\n      });\n    }\n  } catch {\n    listEl.innerHTML =\n      '<li class=\"workout-card\"><p style=\"padding:20px;text-align:center;\">Failed to load exercises.</p></li>';\n  }\n}\n","import { getFilters } from './api.js';\nimport { filterCardMarkup } from './markup.js';\nimport { renderPagination } from './pagination.js';\nimport { showExercises, hideExercises } from './exercises.js';\n\nconst FILTER_MAP = {\n  muscles: 'Muscles',\n  'body-parts': 'Body parts',\n  equipment: 'Equipment',\n};\n\nconst PARAM_MAP = {\n  muscles: 'muscles',\n  'body-parts': 'bodypart',\n  equipment: 'equipment',\n};\n\nlet currentFilter = 'muscles';\nlet currentPage = 1;\n\nexport function initFilters() {\n  const tabsContainer = document.querySelector('.exercises-tabs');\n  const listEl = document.querySelector('.exercises-list');\n  const paginationEl = document.querySelector('.exercises-grid .pagination');\n  const titleEl = document.querySelector('.exercises-title');\n  if (!tabsContainer || !listEl) return;\n\n  tabsContainer.addEventListener('click', e => {\n    const tab = e.target.closest('.exercises-tab');\n    if (!tab) return;\n\n    tabsContainer\n      .querySelectorAll('.exercises-tab')\n      .forEach(t => t.classList.remove('is-active'));\n    tab.classList.add('is-active');\n\n    currentFilter = tab.dataset.filter;\n    currentPage = 1;\n    hideExercises();\n    if (titleEl) titleEl.innerHTML = 'Exercises';\n    fetchAndRender();\n  });\n\n  listEl.addEventListener('click', e => {\n    const card = e.target.closest('.exercise-card');\n    if (!card) return;\n    e.preventDefault();\n    const name = card.dataset.name;\n    const paramName = PARAM_MAP[currentFilter];\n    showExercises(name, paramName, titleEl, listEl, paginationEl, () => {\n      fetchAndRender();\n    });\n  });\n\n  function fetchAndRender() {\n    fetchFilters(currentFilter, currentPage, listEl, paginationEl);\n  }\n\n  fetchAndRender();\n}\n\nasync function fetchFilters(filter, page, listEl, paginationEl) {\n  try {\n    const data = await getFilters(FILTER_MAP[filter], page, 12);\n    const items = data.results || [];\n    if (items.length === 0) {\n      listEl.innerHTML =\n        '<li class=\"exercise-card\"><p style=\"padding:20px;text-align:center;\">No categories found.</p></li>';\n    } else {\n      listEl.innerHTML = items.map(filterCardMarkup).join('');\n    }\n\n    const totalPages = parseInt(data.totalPages, 10);\n    if (paginationEl) {\n      renderPagination(paginationEl, page, totalPages, newPage => {\n        currentPage = newPage;\n        fetchFilters(filter, newPage, listEl, paginationEl);\n      });\n    }\n  } catch {\n    listEl.innerHTML =\n      '<li class=\"exercise-card\"><p style=\"padding:20px;text-align:center;\">Failed to load filters.</p></li>';\n  }\n}\n","import { workoutCardMarkup } from './markup.js';\nimport { renderPagination } from './pagination.js';\n\nconst STORAGE_KEY = 'favorites';\nconst PER_PAGE = 8;\n\nexport function getFavorites() {\n  try {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  } catch {\n    return [];\n  }\n}\n\nexport function addFavorite(exercise) {\n  const favs = getFavorites();\n  if (favs.some(f => f._id === exercise._id)) return;\n  favs.push(exercise);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(favs));\n}\n\nexport function removeFavorite(id) {\n  const favs = getFavorites().filter(f => f._id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(favs));\n}\n\nexport function isFavorite(id) {\n  return getFavorites().some(f => f._id === id);\n}\n\nexport function initFavoritesPage() {\n  const listEl = document.querySelector('.favorites-list');\n  const paginationEl = document.querySelector('.favorites-content .pagination');\n  if (!listEl) return;\n\n  let currentPage = 1;\n\n  function render(page) {\n    currentPage = page;\n    const favs = getFavorites();\n\n    if (favs.length === 0) {\n      listEl.innerHTML =\n        '<li class=\"favorites-empty\"><p>It appears that you haven\\'t added any exercises to your favorites yet. Start exploring and add exercises that you enjoy to your favorites for easy access in the future.</p></li>';\n      if (paginationEl) paginationEl.innerHTML = '';\n      return;\n    }\n\n    const totalPages = Math.ceil(favs.length / PER_PAGE);\n    if (currentPage > totalPages) currentPage = totalPages;\n    const start = (currentPage - 1) * PER_PAGE;\n    const slice = favs.slice(start, start + PER_PAGE);\n\n    listEl.innerHTML = slice\n      .map(ex => workoutCardMarkup(ex, { showTrash: true }))\n      .join('');\n\n    if (paginationEl) {\n      renderPagination(paginationEl, currentPage, totalPages, render);\n    }\n  }\n\n  listEl.addEventListener('click', e => {\n    const trashBtn = e.target.closest('[data-remove-id]');\n    if (!trashBtn) return;\n    removeFavorite(trashBtn.dataset.removeId);\n    render(currentPage);\n  });\n\n  render(1);\n}\n","import { postSubscription } from './api.js';\n\nexport function initSubscription() {\n  const form = document.querySelector('.footer-form');\n  if (!form) return;\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n    const input = form.querySelector('.footer-input');\n    const email = input.value.trim();\n    if (!email) return;\n\n    const emailPattern =\n      /^\\w+(\\.\\w+)?@[a-zA-Z_]+(\\.[a-zA-Z_]+)*\\.[a-zA-Z]{2,3}$/;\n\n    let msgEl = form.querySelector('.footer-form-message');\n    if (!msgEl) {\n      msgEl = document.createElement('p');\n      msgEl.classList.add('footer-form-message');\n      form.appendChild(msgEl);\n    }\n\n    if (!emailPattern.test(email)) {\n      msgEl.textContent = 'Please enter a valid email address.';\n      msgEl.className = 'footer-form-message footer-form-message--error';\n      msgEl.hidden = false;\n      return;\n    }\n    try {\n      const data = await postSubscription(email);\n      msgEl.textContent = data.message || 'Subscription successful!';\n      msgEl.className = 'footer-form-message footer-form-message--success';\n      msgEl.hidden = false;\n      input.value = '';\n    } catch (err) {\n      msgEl.textContent =\n        err.message || 'Subscription failed. Please try again.';\n      msgEl.className = 'footer-form-message footer-form-message--error';\n      msgEl.hidden = false;\n    }\n  });\n}\n","import { patchExerciseRating } from './api.js';\nimport { ratingModalMarkup } from './markup.js';\nimport { icons } from './icons.js';\n\nlet backdropEl;\n\nexport function initRatingModal() {\n  backdropEl = document.querySelector('[data-modal-rating]');\n  if (!backdropEl) return;\n\n  backdropEl.addEventListener('click', e => {\n    if (e.target === backdropEl || e.target.closest('[data-modal-close]')) {\n      closeRatingModal();\n    }\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && backdropEl && !backdropEl.hidden) {\n      closeRatingModal();\n    }\n  });\n}\n\nexport function openRatingModal(exerciseId) {\n  if (!backdropEl) return;\n  backdropEl.innerHTML = ratingModalMarkup(exerciseId);\n  backdropEl.hidden = false;\n  document.body.style.overflow = 'hidden';\n\n  let selectedRating = 0;\n  const stars = backdropEl.querySelectorAll('[data-star]');\n  const valueEl = backdropEl.querySelector('.modal-rating-value');\n  const form = backdropEl.querySelector('.modal-rating-form');\n\n  stars.forEach(star => {\n    star.style.cursor = 'pointer';\n    star.addEventListener('click', () => {\n      selectedRating = parseInt(star.dataset.star, 10);\n      updateStars(stars, selectedRating);\n      if (valueEl) valueEl.textContent = selectedRating.toFixed(1);\n    });\n  });\n\n  if (form) {\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n      const msgEl = form.querySelector('.modal-rating-message');\n      const email = form.email.value.trim();\n      const review = form.review.value.trim();\n\n      if (!selectedRating || !email || !review) {\n        if (msgEl) {\n          msgEl.textContent =\n            'Please fill in all fields: rating, email, and comment.';\n          msgEl.hidden = false;\n        }\n        return;\n      }\n\n      try {\n        await patchExerciseRating(exerciseId, {\n          rate: selectedRating,\n          email,\n          review,\n        });\n        if (msgEl) {\n          msgEl.textContent = 'Thank you for your rating!';\n          msgEl.className =\n            'modal-rating-message modal-rating-message--success';\n          msgEl.hidden = false;\n        }\n        setTimeout(async () => {\n          closeRatingModal();\n          const { openModal } = await import('./exercise-modal.js');\n          openModal(exerciseId);\n        }, 1500);\n      } catch (err) {\n        if (msgEl) {\n          msgEl.textContent =\n            err.message || 'Failed to send rating. Please try again.';\n          msgEl.className = 'modal-rating-message modal-rating-message--error';\n          msgEl.hidden = false;\n        }\n      }\n    });\n  }\n}\n\nfunction closeRatingModal() {\n  if (!backdropEl) return;\n  backdropEl.hidden = true;\n  backdropEl.innerHTML = '';\n  document.body.style.overflow = '';\n}\n\nfunction updateStars(stars, rating) {\n  stars.forEach(star => {\n    const val = parseInt(star.dataset.star, 10);\n    star.src = val <= rating ? icons.starOrange : icons.starGrey;\n  });\n}\n","import { getExerciseById } from './api.js';\nimport { exerciseModalMarkup } from './markup.js';\nimport {\n  addFavorite,\n  removeFavorite,\n  isFavorite,\n  getFavorites,\n} from './favorites.js';\nimport { openRatingModal } from './rating-modal.js';\nimport { icons } from './icons.js';\n\nlet backdropEl;\n\nexport function initExerciseModal() {\n  backdropEl = document.querySelector('[data-modal-exercise]');\n  if (!backdropEl) return;\n\n  document.addEventListener('click', e => {\n    const startBtn = e.target.closest('[data-start-id]');\n    if (!startBtn) return;\n    openModal(startBtn.dataset.startId);\n  });\n\n  backdropEl.addEventListener('click', e => {\n    if (e.target === backdropEl || e.target.closest('[data-modal-close]')) {\n      closeModal();\n    }\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && !backdropEl.hidden) {\n      closeModal();\n    }\n  });\n}\n\nexport async function openModal(id) {\n  try {\n    const exercise = await getExerciseById(id);\n    const isFav = isFavorite(id);\n    backdropEl.innerHTML = exerciseModalMarkup(exercise, isFav);\n    backdropEl.hidden = false;\n    document.body.style.overflow = 'hidden';\n\n    const favBtn = backdropEl.querySelector('[data-fav-id]');\n    if (favBtn) {\n      favBtn.addEventListener('click', () => {\n        const textEl = favBtn.querySelector('span');\n        const iconEl = favBtn.querySelector('img');\n        if (isFavorite(id)) {\n          removeFavorite(id);\n          if (textEl) textEl.textContent = 'Add to favorites';\n          if (iconEl) iconEl.src = icons.heartDark;\n        } else {\n          addFavorite(exercise);\n          if (textEl) textEl.textContent = 'Remove';\n          if (iconEl) iconEl.src = icons.heartFilledDark;\n        }\n        const favList = document.querySelector('.favorites-list');\n        if (favList && document.querySelector('.favorites')) {\n          const { initFavoritesPage } = getFavoritesModule();\n          if (initFavoritesPage) initFavoritesPage();\n        }\n      });\n    }\n\n    const ratingBtn = backdropEl.querySelector('[data-rating-id]');\n    if (ratingBtn) {\n      ratingBtn.addEventListener('click', () => {\n        closeModal();\n        openRatingModal(ratingBtn.dataset.ratingId);\n      });\n    }\n  } catch {}\n}\n\nfunction closeModal() {\n  if (!backdropEl) return;\n  backdropEl.hidden = true;\n  backdropEl.innerHTML = '';\n  document.body.style.overflow = '';\n}\n\nfunction getFavoritesModule() {\n  return { initFavoritesPage: window.__reinitFavorites };\n}\n","const menuOpenBtn = document.querySelector('[data-menu-open]');\nconst menuCloseBtn = document.querySelector('[data-menu-close]');\nconst mobileMenu = document.querySelector('[data-menu]');\n\nif (menuOpenBtn && menuCloseBtn && mobileMenu) {\n  menuOpenBtn.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n  });\n\n  menuCloseBtn.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n      mobileMenu.classList.remove('is-open');\n      document.body.style.overflow = '';\n    }\n  });\n}\n\nconst yearEl = document.querySelector('[data-year]');\nif (yearEl) yearEl.textContent = new Date().getFullYear();\n\nimport { initQuote } from './js/quote.js';\nimport { initFilters } from './js/filters.js';\nimport { initFavoritesPage } from './js/favorites.js';\nimport { initSubscription } from './js/subscription.js';\nimport { initExerciseModal } from './js/exercise-modal.js';\nimport { initRatingModal } from './js/rating-modal.js';\n\ninitQuote();\ninitSubscription();\ninitExerciseModal();\ninitRatingModal();\n\nif (document.querySelector('.exercises')) {\n  initFilters();\n}\n\nif (document.querySelector('.favorites')) {\n  initFavoritesPage();\n  window.__reinitFavorites = initFavoritesPage;\n}\n"],"file":"assets/main-ClZrFwwL.js"}