{"version":3,"file":"main-DHHyG6GR.js","sources":["../../src/js/api.js","../../src/js/quote.js","../../src/js/markup.js","../../src/js/pagination.js","../../src/js/search.js","../../src/js/exercises.js","../../src/js/filters.js","../../src/js/favorites.js","../../src/js/subscription.js","../../src/js/rating-modal.js","../../src/js/exercise-modal.js","../../src/main.js"],"sourcesContent":["const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nasync function fetchData(endpoint, options = {}) {\n  const res = await fetch(`${BASE_URL}${endpoint}`, options);\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return res.json();\n}\n\nexport function getQuote() {\n  return fetchData('/quote');\n}\n\nexport function getFilters(filter, page = 1, limit = 12) {\n  const params = new URLSearchParams({ filter, page, limit });\n  return fetchData(`/filters?${params}`);\n}\n\nexport function getExercises(params = {}) {\n  const query = new URLSearchParams(params);\n  return fetchData(`/exercises?${query}`);\n}\n\nexport function getExerciseById(id) {\n  return fetchData(`/exercises/${id}`);\n}\n\nexport function patchExerciseRating(id, body) {\n  return fetchData(`/exercises/${id}/rating`, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body),\n  });\n}\n\nexport function postSubscription(email) {\n  return fetchData('/subscription', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email }),\n  });\n}\n","import { getQuote } from './api.js';\n\nexport function initQuote() {\n  const quoteEl = document.querySelector('.quote-card-quote');\n  const authorEl = document.querySelector('.quote-card-author');\n  if (!quoteEl || !authorEl) return;\n\n  getQuote()\n    .then(data => {\n      quoteEl.textContent = data.quote;\n      authorEl.textContent = data.author;\n    })\n    .catch(() => {\n      // leave hardcoded fallback\n    });\n}\n","export function filterCardMarkup({ name, filter, imgURL }) {\n  return `<li class=\"exercise-card\" data-name=\"${name}\" data-filter=\"${filter}\">\n  <a class=\"exercise-card-link\" href=\"#\">\n    <img src=\"${imgURL}\" alt=\"${name}\" class=\"exercise-card-img\" loading=\"lazy\" />\n    <div class=\"exercise-card-overlay\">\n      <p class=\"exercise-card-name\">${name}</p>\n      <p class=\"exercise-card-subtitle\">${filter}</p>\n    </div>\n  </a>\n</li>`;\n}\n\nexport function workoutCardMarkup(exercise, { showTrash = false } = {}) {\n  const trashBtn = showTrash\n    ? `<button class=\"workout-card-trash\" type=\"button\" aria-label=\"Remove from favorites\" data-remove-id=\"${exercise._id}\">\n        <img src=\"./images/icons/trash.svg\" alt=\"\" width=\"16\" height=\"16\" />\n      </button>`\n    : '';\n\n  const ratingValue = exercise.rating ? exercise.rating.toFixed(1) : '0.0';\n\n  return `<li class=\"workout-card\" data-exercise-id=\"${exercise._id}\">\n  <div class=\"workout-card-top\">\n    <span class=\"workout-card-badge\">WORKOUT</span>\n    <span class=\"workout-card-rating\">${ratingValue}<img src=\"./images/icons/star-orange.svg\" alt=\"rating\" /></span>\n    ${trashBtn}\n    <button class=\"workout-card-start\" type=\"button\" data-start-id=\"${exercise._id}\">Start <img src=\"./images/icons/arrow-right.svg\" alt=\"\" /></button>\n  </div>\n  <div class=\"workout-card-body\">\n    <div class=\"workout-card-icon\">\n      <img src=\"./images/icons/running-man-dark.svg\" alt=\"\" width=\"24\" height=\"24\" />\n    </div>\n    <h3 class=\"workout-card-name\">${exercise.name}</h3>\n  </div>\n  <div class=\"workout-card-meta\">\n    <span>Burned calories: <strong>${exercise.burnedCalories} / ${exercise.time} min</strong></span>\n    <span>Body part: <strong>${exercise.bodyPart}</strong></span>\n    <span>Target: <strong>${exercise.target}</strong></span>\n  </div>\n</li>`;\n}\n\nexport function exerciseModalMarkup(exercise, isFav) {\n  const stars = renderStars(exercise.rating);\n  const favText = isFav ? 'Remove from favorites' : 'Add to favorites';\n  const heartIcon = isFav ? 'heart-filled-dark.svg' : 'heart-dark.svg';\n\n  return `<div class=\"modal-exercise-content\">\n  <button class=\"modal-close\" type=\"button\" aria-label=\"Close\" data-modal-close>\n    <img class=\"modal-close-icon\" src=\"./images/icons/x-light.svg\" alt=\"\" width=\"24\" height=\"24\" />\n  </button>\n  <div class=\"modal-exercise-gif\">\n    <img src=\"${exercise.gifUrl}\" alt=\"${exercise.name}\" />\n  </div>\n  <div class=\"modal-exercise-info\">\n    <h3 class=\"modal-exercise-title\">${exercise.name}</h3>\n    <div class=\"modal-exercise-rating\">\n      <span class=\"modal-exercise-rating-value\">${exercise.rating.toFixed(1)}</span>\n      <div class=\"modal-exercise-stars\">${stars}</div>\n    </div>\n    <div class=\"modal-exercise-details\">\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Target</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.target}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Body Part</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.bodyPart}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Equipment</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.equipment}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Popular</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.popularity}</span>\n      </div>\n      <div class=\"modal-exercise-detail-item\">\n        <span class=\"modal-exercise-detail-label\">Burned calories</span>\n        <span class=\"modal-exercise-detail-value\">${exercise.burnedCalories}/${exercise.time} min</span>\n      </div>\n    </div>\n    <p class=\"modal-exercise-desc\">${exercise.description}</p>\n    <div class=\"modal-exercise-actions\">\n      <button class=\"modal-btn modal-btn-fav\" type=\"button\" data-fav-id=\"${exercise._id}\">\n        <span>${favText}</span>\n        <img class=\"modal-btn-fav-icon\" src=\"./images/icons/${heartIcon}\" alt=\"\" width=\"18\" height=\"18\" />\n      </button>\n      <button class=\"modal-btn modal-btn-rating\" type=\"button\" data-rating-id=\"${exercise._id}\">Give a rating</button>\n    </div>\n  </div>\n</div>`;\n}\n\nexport function ratingModalMarkup(exerciseId) {\n  return `<div class=\"modal-rating-content\">\n  <button class=\"modal-close\" type=\"button\" aria-label=\"Close\" data-modal-close>\n    <img class=\"modal-close-icon\" src=\"./images/icons/x-light.svg\" alt=\"\" width=\"28\" height=\"28\" />\n  </button>\n  <p class=\"modal-rating-label\">Rating</p>\n  <div class=\"modal-rating-row\">\n    <span class=\"modal-rating-value\">0.0</span>\n    <div class=\"modal-rating-stars\">\n      ${[1, 2, 3, 4, 5]\n        .map(\n          n =>\n            `<img class=\"modal-star\" src=\"./images/icons/star-grey.svg\" alt=\"${n} star\" width=\"24\" height=\"24\" data-star=\"${n}\" />`\n        )\n        .join('')}\n    </div>\n  </div>\n  <form class=\"modal-rating-form\" data-exercise-id=\"${exerciseId}\">\n    <input class=\"modal-rating-email\" type=\"email\" name=\"email\" placeholder=\"Email\" required />\n    <textarea class=\"modal-rating-comment\" name=\"review\" placeholder=\"Your comment\" rows=\"4\"></textarea>\n    <button class=\"modal-rating-submit\" type=\"submit\">Send</button>\n    <p class=\"modal-rating-message\" hidden></p>\n  </form>\n</div>`;\n}\n\nfunction renderStars(rating) {\n  const full = Math.round(rating);\n  return [1, 2, 3, 4, 5]\n    .map(\n      n =>\n        `<img src=\"./images/icons/${n <= full ? 'star-orange' : 'star-grey'}.svg\" alt=\"\" width=\"14\" height=\"14\" />`\n    )\n    .join('');\n}\n","export function renderPagination(containerEl, currentPage, totalPages, onPageClick) {\n  containerEl.innerHTML = '';\n  if (totalPages <= 1) return;\n\n  const pages = getPaginationRange(currentPage, totalPages);\n\n  pages.forEach(page => {\n    if (page === '...') {\n      const ellipsis = document.createElement('span');\n      ellipsis.classList.add('pagination-ellipsis');\n      ellipsis.textContent = '...';\n      containerEl.appendChild(ellipsis);\n    } else {\n      const span = document.createElement('span');\n      span.classList.add('pagination-num');\n      if (page === currentPage) span.classList.add('is-active');\n      span.textContent = page;\n      span.addEventListener('click', () => onPageClick(page));\n      containerEl.appendChild(span);\n    }\n  });\n}\n\nfunction getPaginationRange(current, total) {\n  const SIBLINGS = 1; // pages shown on each side of current\n  const BOUNDARY = 1; // pages shown at start/end\n\n  // If total pages fit comfortably, show all\n  if (total <= SIBLINGS * 2 + BOUNDARY * 2 + 3) {\n    return Array.from({ length: total }, (_, i) => i + 1);\n  }\n\n  const pages = [];\n  const leftSibling = Math.max(current - SIBLINGS, BOUNDARY + 1);\n  const rightSibling = Math.min(current + SIBLINGS, total - BOUNDARY);\n\n  const showLeftEllipsis = leftSibling > BOUNDARY + 2;\n  const showRightEllipsis = rightSibling < total - BOUNDARY - 1;\n\n  // Always show first page(s)\n  for (let i = 1; i <= BOUNDARY; i++) {\n    pages.push(i);\n  }\n\n  // Left ellipsis or fill gap\n  if (showLeftEllipsis) {\n    pages.push('...');\n  } else {\n    for (let i = BOUNDARY + 1; i < leftSibling; i++) {\n      pages.push(i);\n    }\n  }\n\n  // Current page neighborhood\n  for (let i = leftSibling; i <= rightSibling; i++) {\n    pages.push(i);\n  }\n\n  // Right ellipsis or fill gap\n  if (showRightEllipsis) {\n    pages.push('...');\n  } else {\n    for (let i = rightSibling + 1; i <= total - BOUNDARY; i++) {\n      pages.push(i);\n    }\n  }\n\n  // Always show last page(s)\n  for (let i = total - BOUNDARY + 1; i <= total; i++) {\n    pages.push(i);\n  }\n\n  return pages;\n}\n","let searchContainer;\nlet onSearchCallback;\n\nexport function initSearch(onSearch) {\n  searchContainer = document.querySelector('.exercises-search');\n  if (!searchContainer) return;\n  searchContainer.hidden = false;\n  onSearchCallback = onSearch;\n\n  const input = searchContainer.querySelector('.exercises-search-input');\n  const btn = searchContainer.querySelector('.exercises-search-btn');\n\n  input.addEventListener('keydown', handleKeydown);\n  btn.addEventListener('click', handleClick);\n}\n\nexport function destroySearch() {\n  if (!searchContainer) return;\n  searchContainer.hidden = true;\n  const input = searchContainer.querySelector('.exercises-search-input');\n  const btn = searchContainer.querySelector('.exercises-search-btn');\n  input.value = '';\n  input.removeEventListener('keydown', handleKeydown);\n  btn.removeEventListener('click', handleClick);\n  searchContainer = null;\n  onSearchCallback = null;\n}\n\nfunction handleKeydown(e) {\n  if (e.key === 'Enter') {\n    e.preventDefault();\n    doSearch();\n  }\n}\n\nfunction handleClick() {\n  doSearch();\n}\n\nfunction doSearch() {\n  if (!searchContainer || !onSearchCallback) return;\n  const input = searchContainer.querySelector('.exercises-search-input');\n  onSearchCallback(input.value.trim());\n}\n","import { getExercises } from './api.js';\nimport { workoutCardMarkup } from './markup.js';\nimport { renderPagination } from './pagination.js';\nimport { initSearch, destroySearch } from './search.js';\n\nlet currentParams = {};\nlet currentPage = 1;\nlet listEl, paginationEl, goBack;\n\nexport function showExercises(categoryName, paramName, titleEl, _listEl, _paginationEl, _goBack) {\n  listEl = _listEl;\n  paginationEl = _paginationEl;\n  goBack = _goBack;\n  currentPage = 1;\n  currentParams = { [paramName]: categoryName, page: 1, limit: 10 };\n\n  if (titleEl) {\n    titleEl.innerHTML = `<span class=\"exercises-title-back\">Exercises</span> / <span class=\"exercises-title-category\">${categoryName}</span>`;\n    const backBtn = titleEl.querySelector('.exercises-title-back');\n    if (backBtn) {\n      backBtn.style.cursor = 'pointer';\n      backBtn.addEventListener(\n        'click',\n        () => {\n          hideExercises();\n          if (titleEl) titleEl.innerHTML = 'Exercises';\n          goBack();\n        },\n        { once: true }\n      );\n    }\n  }\n\n  initSearch(keyword => {\n    currentParams.keyword = keyword || undefined;\n    currentPage = 1;\n    currentParams.page = 1;\n    fetchAndRender();\n  });\n\n  fetchAndRender();\n}\n\nexport function hideExercises() {\n  destroySearch();\n  if (listEl) listEl.classList.remove('exercises-list--workouts');\n}\n\nasync function fetchAndRender() {\n  if (!listEl) return;\n  try {\n    const params = { ...currentParams, page: currentPage };\n    // remove undefined keys\n    Object.keys(params).forEach(k => params[k] === undefined && delete params[k]);\n    const data = await getExercises(params);\n    const items = data.results || [];\n\n    if (items.length === 0) {\n      listEl.innerHTML =\n        '<li class=\"workout-card\"><p style=\"padding:20px;text-align:center;\">No exercises found.</p></li>';\n    } else {\n      listEl.innerHTML = items\n        .map(ex => workoutCardMarkup(ex))\n        .join('');\n    }\n    // Switch to workout-style grid\n    listEl.classList.add('exercises-list--workouts');\n\n    const totalPages = parseInt(data.totalPages, 10) || 1;\n    if (paginationEl) {\n      renderPagination(paginationEl, currentPage, totalPages, page => {\n        currentPage = page;\n        fetchAndRender();\n      });\n    }\n  } catch {\n    listEl.innerHTML =\n      '<li class=\"workout-card\"><p style=\"padding:20px;text-align:center;\">Failed to load exercises.</p></li>';\n  }\n}\n","import { getFilters } from './api.js';\nimport { filterCardMarkup } from './markup.js';\nimport { renderPagination } from './pagination.js';\nimport { showExercises, hideExercises } from './exercises.js';\n\nconst FILTER_MAP = {\n  muscles: 'Muscles',\n  'body-parts': 'Body parts',\n  equipment: 'Equipment',\n};\n\nconst PARAM_MAP = {\n  muscles: 'muscles',\n  'body-parts': 'bodypart',\n  equipment: 'equipment',\n};\n\nlet currentFilter = 'muscles';\nlet currentPage = 1;\n\nexport function initFilters() {\n  const tabsContainer = document.querySelector('.exercises-tabs');\n  const listEl = document.querySelector('.exercises-list');\n  const paginationEl = document.querySelector('.exercises-grid .pagination');\n  const titleEl = document.querySelector('.exercises-title');\n  if (!tabsContainer || !listEl) return;\n\n  // Tab clicks\n  tabsContainer.addEventListener('click', e => {\n    const tab = e.target.closest('.exercises-tab');\n    if (!tab) return;\n\n    tabsContainer\n      .querySelectorAll('.exercises-tab')\n      .forEach(t => t.classList.remove('is-active'));\n    tab.classList.add('is-active');\n\n    currentFilter = tab.dataset.filter;\n    currentPage = 1;\n    hideExercises();\n    if (titleEl) titleEl.innerHTML = 'Exercises';\n    fetchAndRender();\n  });\n\n  // Card clicks - open exercises for that category\n  listEl.addEventListener('click', e => {\n    const card = e.target.closest('.exercise-card');\n    if (!card) return;\n    e.preventDefault();\n    const name = card.dataset.name;\n    const paramName = PARAM_MAP[currentFilter];\n    showExercises(name, paramName, titleEl, listEl, paginationEl, () => {\n      fetchAndRender();\n    });\n  });\n\n  function fetchAndRender() {\n    fetchFilters(currentFilter, currentPage, listEl, paginationEl);\n  }\n\n  // Initial load\n  fetchAndRender();\n}\n\nasync function fetchFilters(filter, page, listEl, paginationEl) {\n  try {\n    const data = await getFilters(FILTER_MAP[filter], page, 12);\n    const items = data.results || [];\n    listEl.innerHTML = items.map(filterCardMarkup).join('');\n\n    const totalPages = parseInt(data.totalPages, 10);\n    if (paginationEl) {\n      renderPagination(paginationEl, page, totalPages, newPage => {\n        currentPage = newPage;\n        fetchFilters(filter, newPage, listEl, paginationEl);\n      });\n    }\n  } catch {\n    listEl.innerHTML =\n      '<li class=\"exercise-card\"><p style=\"padding:20px;text-align:center;\">Failed to load filters.</p></li>';\n  }\n}\n","import { workoutCardMarkup } from './markup.js';\nimport { renderPagination } from './pagination.js';\n\nconst STORAGE_KEY = 'favorites';\nconst PER_PAGE = 8;\n\nexport function getFavorites() {\n  try {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  } catch {\n    return [];\n  }\n}\n\nexport function addFavorite(exercise) {\n  const favs = getFavorites();\n  if (favs.some(f => f._id === exercise._id)) return;\n  favs.push(exercise);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(favs));\n}\n\nexport function removeFavorite(id) {\n  const favs = getFavorites().filter(f => f._id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(favs));\n}\n\nexport function isFavorite(id) {\n  return getFavorites().some(f => f._id === id);\n}\n\nexport function initFavoritesPage() {\n  const listEl = document.querySelector('.favorites-list');\n  const paginationEl = document.querySelector('.favorites-content .pagination');\n  if (!listEl) return;\n\n  let currentPage = 1;\n\n  function render(page) {\n    currentPage = page;\n    const favs = getFavorites();\n\n    if (favs.length === 0) {\n      listEl.innerHTML =\n        '<li class=\"favorites-empty\"><p>It appears that you haven\\'t added any exercises to your favorites yet. Start exploring and add exercises that you enjoy to your favorites for easy access in the future.</p></li>';\n      if (paginationEl) paginationEl.innerHTML = '';\n      return;\n    }\n\n    const totalPages = Math.ceil(favs.length / PER_PAGE);\n    if (currentPage > totalPages) currentPage = totalPages;\n    const start = (currentPage - 1) * PER_PAGE;\n    const slice = favs.slice(start, start + PER_PAGE);\n\n    listEl.innerHTML = slice\n      .map(ex => workoutCardMarkup(ex, { showTrash: true }))\n      .join('');\n\n    if (paginationEl) {\n      renderPagination(paginationEl, currentPage, totalPages, render);\n    }\n  }\n\n  // Trash click delegation\n  listEl.addEventListener('click', e => {\n    const trashBtn = e.target.closest('[data-remove-id]');\n    if (!trashBtn) return;\n    removeFavorite(trashBtn.dataset.removeId);\n    render(currentPage);\n  });\n\n  render(1);\n}\n","import { postSubscription } from './api.js';\n\nexport function initSubscription() {\n  const form = document.querySelector('.footer-form');\n  if (!form) return;\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n    const input = form.querySelector('.footer-input');\n    const email = input.value.trim();\n    if (!email) return;\n\n    let msgEl = form.querySelector('.footer-form-message');\n    if (!msgEl) {\n      msgEl = document.createElement('p');\n      msgEl.classList.add('footer-form-message');\n      form.appendChild(msgEl);\n    }\n\n    try {\n      const data = await postSubscription(email);\n      msgEl.textContent = data.message || 'Subscription successful!';\n      msgEl.className = 'footer-form-message footer-form-message--success';\n      msgEl.hidden = false;\n      input.value = '';\n    } catch {\n      msgEl.textContent = 'Subscription failed. Please try again.';\n      msgEl.className = 'footer-form-message footer-form-message--error';\n      msgEl.hidden = false;\n    }\n  });\n}\n","import { patchExerciseRating } from './api.js';\nimport { ratingModalMarkup } from './markup.js';\n\nlet backdropEl;\n\nexport function initRatingModal() {\n  backdropEl = document.querySelector('[data-modal-rating]');\n  if (!backdropEl) return;\n\n  backdropEl.addEventListener('click', e => {\n    if (e.target === backdropEl || e.target.closest('[data-modal-close]')) {\n      closeRatingModal();\n    }\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && backdropEl && !backdropEl.hidden) {\n      closeRatingModal();\n    }\n  });\n}\n\nexport function openRatingModal(exerciseId) {\n  if (!backdropEl) return;\n  backdropEl.innerHTML = ratingModalMarkup(exerciseId);\n  backdropEl.hidden = false;\n  document.body.style.overflow = 'hidden';\n\n  let selectedRating = 0;\n  const stars = backdropEl.querySelectorAll('[data-star]');\n  const valueEl = backdropEl.querySelector('.modal-rating-value');\n  const form = backdropEl.querySelector('.modal-rating-form');\n\n  stars.forEach(star => {\n    star.style.cursor = 'pointer';\n    star.addEventListener('click', () => {\n      selectedRating = parseInt(star.dataset.star, 10);\n      updateStars(stars, selectedRating);\n      if (valueEl) valueEl.textContent = selectedRating.toFixed(1);\n    });\n  });\n\n  if (form) {\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n      const msgEl = form.querySelector('.modal-rating-message');\n      const email = form.email.value.trim();\n      const review = form.review.value.trim();\n\n      if (!selectedRating || !email) {\n        if (msgEl) {\n          msgEl.textContent = 'Please select a rating and enter your email.';\n          msgEl.hidden = false;\n        }\n        return;\n      }\n\n      try {\n        await patchExerciseRating(exerciseId, {\n          rate: selectedRating,\n          email,\n          review,\n        });\n        if (msgEl) {\n          msgEl.textContent = 'Thank you for your rating!';\n          msgEl.className = 'modal-rating-message modal-rating-message--success';\n          msgEl.hidden = false;\n        }\n        setTimeout(() => closeRatingModal(), 1500);\n      } catch {\n        if (msgEl) {\n          msgEl.textContent = 'Failed to send rating. Please try again.';\n          msgEl.className = 'modal-rating-message modal-rating-message--error';\n          msgEl.hidden = false;\n        }\n      }\n    });\n  }\n}\n\nfunction closeRatingModal() {\n  if (!backdropEl) return;\n  backdropEl.hidden = true;\n  backdropEl.innerHTML = '';\n  document.body.style.overflow = '';\n}\n\nfunction updateStars(stars, rating) {\n  stars.forEach(star => {\n    const val = parseInt(star.dataset.star, 10);\n    star.src = val <= rating\n      ? './images/icons/star-orange.svg'\n      : './images/icons/star-grey.svg';\n  });\n}\n","import { getExerciseById } from './api.js';\nimport { exerciseModalMarkup } from './markup.js';\nimport { addFavorite, removeFavorite, isFavorite, getFavorites } from './favorites.js';\nimport { openRatingModal } from './rating-modal.js';\n\nlet backdropEl;\n\nexport function initExerciseModal() {\n  backdropEl = document.querySelector('[data-modal-exercise]');\n  if (!backdropEl) return;\n\n  // Open on Start button click (event delegation)\n  document.addEventListener('click', e => {\n    const startBtn = e.target.closest('[data-start-id]');\n    if (!startBtn) return;\n    openModal(startBtn.dataset.startId);\n  });\n\n  // Close handlers\n  backdropEl.addEventListener('click', e => {\n    if (e.target === backdropEl || e.target.closest('[data-modal-close]')) {\n      closeModal();\n    }\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && !backdropEl.hidden) {\n      closeModal();\n    }\n  });\n}\n\nasync function openModal(id) {\n  try {\n    const exercise = await getExerciseById(id);\n    const isFav = isFavorite(id);\n    backdropEl.innerHTML = exerciseModalMarkup(exercise, isFav);\n    backdropEl.hidden = false;\n    document.body.style.overflow = 'hidden';\n\n    // Favorites toggle\n    const favBtn = backdropEl.querySelector('[data-fav-id]');\n    if (favBtn) {\n      favBtn.addEventListener('click', () => {\n        const textEl = favBtn.querySelector('span');\n        const iconEl = favBtn.querySelector('img');\n        if (isFavorite(id)) {\n          removeFavorite(id);\n          if (textEl) textEl.textContent = 'Add to favorites';\n          if (iconEl) iconEl.src = './images/icons/heart-dark.svg';\n        } else {\n          addFavorite(exercise);\n          if (textEl) textEl.textContent = 'Remove from favorites';\n          if (iconEl) iconEl.src = './images/icons/heart-filled-dark.svg';\n        }\n        // Re-render favorites page if open\n        const favList = document.querySelector('.favorites-list');\n        if (favList && document.querySelector('.favorites')) {\n          const { initFavoritesPage } = getFavoritesModule();\n          if (initFavoritesPage) initFavoritesPage();\n        }\n      });\n    }\n\n    // Rating button\n    const ratingBtn = backdropEl.querySelector('[data-rating-id]');\n    if (ratingBtn) {\n      ratingBtn.addEventListener('click', () => {\n        closeModal();\n        openRatingModal(ratingBtn.dataset.ratingId);\n      });\n    }\n  } catch {\n    // silently fail\n  }\n}\n\nfunction closeModal() {\n  if (!backdropEl) return;\n  backdropEl.hidden = true;\n  backdropEl.innerHTML = '';\n  document.body.style.overflow = '';\n}\n\nfunction getFavoritesModule() {\n  // Lazy reference to avoid circular import issues at init\n  return { initFavoritesPage: window.__reinitFavorites };\n}\n","// Mobile menu toggle\nconst menuOpenBtn = document.querySelector('[data-menu-open]');\nconst menuCloseBtn = document.querySelector('[data-menu-close]');\nconst mobileMenu = document.querySelector('[data-menu]');\n\nif (menuOpenBtn && menuCloseBtn && mobileMenu) {\n  menuOpenBtn.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n  });\n\n  menuCloseBtn.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  });\n}\n\n// Feature modules\nimport { initQuote } from './js/quote.js';\nimport { initFilters } from './js/filters.js';\nimport { initFavoritesPage } from './js/favorites.js';\nimport { initSubscription } from './js/subscription.js';\nimport { initExerciseModal } from './js/exercise-modal.js';\nimport { initRatingModal } from './js/rating-modal.js';\n\n// Both pages\ninitQuote();\ninitSubscription();\ninitExerciseModal();\ninitRatingModal();\n\n// Page-specific\nif (document.querySelector('.exercises')) {\n  initFilters();\n}\n\nif (document.querySelector('.favorites')) {\n  initFavoritesPage();\n  // Expose reinit for modal favorite toggling\n  window.__reinitFavorites = initFavoritesPage;\n}\n"],"names":["BASE_URL","fetchData","endpoint","options","res","getQuote","getFilters","filter","page","limit","params","getExercises","query","getExerciseById","id","patchExerciseRating","body","postSubscription","email","initQuote","quoteEl","authorEl","data","filterCardMarkup","name","imgURL","workoutCardMarkup","exercise","showTrash","trashBtn","ratingValue","exerciseModalMarkup","isFav","stars","renderStars","favText","heartIcon","ratingModalMarkup","exerciseId","n","rating","full","renderPagination","containerEl","currentPage","totalPages","onPageClick","getPaginationRange","ellipsis","span","current","total","_","i","pages","leftSibling","rightSibling","showLeftEllipsis","showRightEllipsis","searchContainer","onSearchCallback","initSearch","onSearch","input","btn","handleKeydown","handleClick","destroySearch","doSearch","currentParams","listEl","paginationEl","goBack","showExercises","categoryName","paramName","titleEl","_listEl","_paginationEl","_goBack","backBtn","hideExercises","keyword","fetchAndRender","k","items","ex","FILTER_MAP","PARAM_MAP","currentFilter","initFilters","tabsContainer","e","tab","t","card","fetchFilters","newPage","STORAGE_KEY","PER_PAGE","getFavorites","addFavorite","favs","f","removeFavorite","isFavorite","initFavoritesPage","render","start","slice","initSubscription","form","msgEl","backdropEl","initRatingModal","closeRatingModal","openRatingModal","selectedRating","valueEl","star","updateStars","review","val","initExerciseModal","startBtn","openModal","closeModal","favBtn","textEl","iconEl","getFavoritesModule","ratingBtn","menuOpenBtn","menuCloseBtn","mobileMenu"],"mappings":"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"}