(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}})();const Z="https://your-energy.b.goit.study/api";async function v(e,t={}){const a=await fetch(`${Z}${e}`,t);if(!a.ok)throw new Error(`HTTP ${a.status}`);return a.json()}function K(){return v("/quote")}function Y(e,t=1,a=12){const r=new URLSearchParams({filter:e,page:t,limit:a});return v(`/filters?${r}`)}function z(e={}){const t=new URLSearchParams(e);return v(`/exercises?${t}`)}function W(e){return v(`/exercises/${e}`)}function X(e,t){return v(`/exercises/${e}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}function ee(e){return v("/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})}const _="dailyQuote";function D(){return new Date().toDateString()}function te(){try{const e=localStorage.getItem(_);if(!e)return null;const{quote:t,author:a,date:r}=JSON.parse(e);return r!==D()?null:{quote:t,author:a}}catch{return null}}function ae(e,t){try{localStorage.setItem(_,JSON.stringify({quote:e,author:t,date:D()}))}catch{}}function se(){const e=document.querySelector(".quote-card-quote"),t=document.querySelector(".quote-card-author");if(!e||!t)return;const a=te();if(a){e.textContent=a.quote,t.textContent=a.author;return}K().then(r=>{e.textContent=r.quote,t.textContent=r.author,ae(r.quote,r.author)}).catch(()=>{})}const ne="data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2016.5%2018.1667'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Icon'%20d='M11.5833%204.08333V3.41667C11.5833%202.48325%2011.5833%202.01654%2011.4017%201.66002C11.2419%201.34641%2010.9869%201.09145%2010.6733%200.931657C10.3168%200.750001%209.85009%200.750001%208.91667%200.750001H7.58333C6.64991%200.750001%206.1832%200.750001%205.82668%200.931657C5.51308%201.09145%205.25811%201.34641%205.09832%201.66002C4.91667%202.01654%204.91667%202.48325%204.91667%203.41667V4.08333M6.58333%208.66667V12.8333M9.91667%208.66667V12.8333M0.75%204.08333H15.75M14.0833%204.08333V13.4167C14.0833%2014.8168%2014.0833%2015.5169%2013.8108%2016.0516C13.5712%2016.5221%2013.1887%2016.9045%2012.7183%2017.1442C12.1835%2017.4167%2011.4835%2017.4167%2010.0833%2017.4167H6.41667C5.01654%2017.4167%204.31647%2017.4167%203.78169%2017.1442C3.31129%2016.9045%202.92883%2016.5221%202.68915%2016.0516C2.41667%2015.5169%202.41667%2014.8168%202.41667%2013.4167V4.08333'%20stroke='var(--stroke-0,%20%23242424)'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ie="data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2012.9675%2012.4316'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Star%201'%20d='M5.53268%200.690983C5.83204%20-0.230327%207.13545%20-0.230328%207.4348%200.690983L8.27985%203.2918C8.41373%203.70382%208.79768%203.98278%209.23091%203.98278H11.9656C12.9343%203.98278%2013.3371%205.22239%2012.5534%205.7918L10.341%207.39919C9.99048%207.65383%209.84382%208.1052%209.9777%208.51722L10.8228%2011.118C11.1221%2012.0393%2010.0676%2012.8055%209.28391%2012.2361L7.07153%2010.6287C6.72104%2010.374%206.24644%2010.374%205.89596%2010.6287L3.68357%2012.2361C2.89986%2012.8055%201.84538%2012.0393%202.14473%2011.118L2.98978%208.51722C3.12366%208.1052%202.977%207.65383%202.62651%207.39919L0.414132%205.7918C-0.369582%205.2224%200.0331929%203.98278%201.00192%203.98278H3.73657C4.1698%203.98278%204.55375%203.70382%204.68763%203.2918L5.53268%200.690983Z'%20fill='var(--fill-0,%20%23EEA10C)'/%3e%3c/svg%3e",re="data:image/svg+xml,%3csvg%20preserveAspectRatio='none'%20width='100%25'%20height='100%25'%20overflow='visible'%20style='display:%20block;'%20viewBox='0%200%2012.9675%2012.4316'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Star%205'%20d='M5.53268%200.690983C5.83204%20-0.230327%207.13545%20-0.230328%207.4348%200.690983L8.27985%203.2918C8.41373%203.70382%208.79768%203.98278%209.23091%203.98278H11.9656C12.9343%203.98278%2013.3371%205.22239%2012.5534%205.7918L10.341%207.39919C9.99048%207.65383%209.84382%208.1052%209.9777%208.51722L10.8228%2011.118C11.1221%2012.0393%2010.0676%2012.8055%209.28391%2012.2361L7.07153%2010.6287C6.72104%2010.374%206.24644%2010.374%205.89596%2010.6287L3.68357%2012.2361C2.89986%2012.8055%201.84538%2012.0393%202.14473%2011.118L2.98978%208.51722C3.12366%208.1052%202.977%207.65383%202.62651%207.39919L0.414132%205.7918C-0.369582%205.2224%200.0331929%203.98278%201.00192%203.98278H3.73657C4.1698%203.98278%204.55375%203.70382%204.68763%203.2918L5.53268%200.690983Z'%20fill='var(--fill-0,%20%23F4F4F4)'%20fill-opacity='0.2'/%3e%3c/svg%3e",oe="data:image/svg+xml,%3csvg%20width='15'%20height='15'%20viewBox='0%200%2015%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.1499%2013.6499L13.6499%207.1499M13.6499%207.1499L7.1499%200.649902M13.6499%207.1499H0.649902'%20stroke='%23242424'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ce="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23F4F4F4'%20fill-opacity='0.2'/%3e%3cpath%20d='M24.7293%2011.907C24.4611%2011.594%2023.9834%2011.5528%2023.6631%2011.8138L21.5637%2013.5369L20.5983%2011.1998C20.564%2011.1121%2020.5119%2011.0384%2020.452%2010.9734C20.2547%2010.5446%2019.9122%2010.1763%2019.44%209.96297C19.235%209.872%2019.0233%209.82326%2018.8116%209.79944C18.765%209.77561%2018.7229%209.7442%2018.6697%209.72796L14.9754%208.72184C14.7681%208.6666%2014.5597%208.70234%2014.3891%208.79981C14.1862%208.86696%2014.0122%209.011%2013.9291%209.22002L12.538%2012.7149C12.3873%2013.0951%2012.5801%2013.5239%2012.9703%2013.6734C13.3582%2013.8207%2013.7983%2013.6311%2013.9501%2013.2499L15.125%2010.2987L16.8076%2010.7557C16.7666%2010.8207%2016.7222%2010.8814%2016.689%2010.9507L14.532%2015.5188C14.501%2015.586%2014.4844%2015.6542%2014.4622%2015.7235L11.8408%2020.0177L7.45378%2021.4516C6.95721%2021.8144%206.85192%2022.4978%207.2188%2022.983C7.5879%2023.4692%208.28951%2023.5721%208.78497%2023.2137L13.274%2021.7029C13.4114%2021.6054%2013.5112%2021.4776%2013.5866%2021.34C13.6431%2021.2816%2013.7074%2021.235%2013.7506%2021.1624L15.3135%2018.6022L18.0878%2020.9123L15.1195%2024.1808C14.7105%2024.6313%2014.7515%2025.3255%2015.2148%2025.7241C15.677%2026.1259%2016.3853%2026.0836%2016.7965%2025.6309L20.5008%2021.5534C20.6161%2021.4278%2020.6848%2021.2826%2020.7313%2021.131C20.759%2021.0487%2020.759%2020.9632%2020.7657%2020.8776C20.7657%2020.8343%2020.7823%2020.7953%2020.779%2020.7552C20.769%2020.4563%2020.6449%2020.1661%2020.3944%2019.9592L17.8417%2017.8322C18.0257%2017.661%2018.182%2017.4574%2018.2951%2017.2181L19.9488%2013.7189L20.4786%2015.0975C20.5008%2015.2199%2020.5429%2015.3401%2020.6316%2015.4409C20.7114%2015.534%2020.8134%2015.5957%2020.922%2015.6391C20.9331%2015.6445%2020.9464%2015.6456%2020.9597%2015.6488C21.0284%2015.6726%2021.0982%2015.6954%2021.1703%2015.6986C21.2556%2015.7062%2021.3421%2015.6954%2021.4296%2015.6715C21.4318%2015.6705%2021.4329%2015.6705%2021.4329%2015.6705C21.4562%2015.665%2021.4795%2015.6694%2021.5028%2015.6596C21.6258%2015.6141%2021.72%2015.5372%2021.8009%2015.4474L24.8136%2012.9488C25.1339%2012.6857%2024.9987%2012.22%2024.7293%2011.907Z'%20fill='%23F4F4F4'/%3e%3cpath%20d='M20.9191%2010.1263C22.0853%2010.1263%2023.0306%209.20259%2023.0306%208.06314C23.0306%206.9237%2022.0853%206%2020.9191%206C19.753%206%2018.8076%206.9237%2018.8076%208.06314C18.8076%209.20259%2019.753%2010.1263%2020.9191%2010.1263Z'%20fill='%23F4F4F4'/%3e%3c/svg%3e",le="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%206L6%2018M6%206L18%2018'%20stroke='%23F4F4F4'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",de="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.3671%203.84172C16.9415%203.41589%2016.4361%203.0781%2015.8799%202.84763C15.3237%202.61716%2014.7275%202.49854%2014.1254%202.49854C13.5234%202.49854%2012.9272%202.61716%2012.371%202.84763C11.8147%203.0781%2011.3094%203.41589%2010.8838%203.84172L10.0004%204.72506L9.11709%203.84172C8.25735%202.98198%207.09128%202.49898%205.87542%202.49898C4.65956%202.49898%203.4935%202.98198%202.63376%203.84172C1.77401%204.70147%201.29102%205.86753%201.29102%207.08339C1.29102%208.29925%201.77401%209.46531%202.63376%2010.3251L3.51709%2011.2084L10.0004%2017.6917L16.4838%2011.2084L17.3671%2010.3251C17.7929%209.89943%2018.1307%209.39407%2018.3612%208.83785C18.5917%208.28164%2018.7103%207.68546%2018.7103%207.08339C18.7103%206.48132%2018.5917%205.88514%2018.3612%205.32893C18.1307%204.77271%2017.7929%204.26735%2017.3671%203.84172Z'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ue="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.3671%203.84172C16.9415%203.41589%2016.4361%203.0781%2015.8799%202.84763C15.3237%202.61716%2014.7275%202.49854%2014.1254%202.49854C13.5234%202.49854%2012.9272%202.61716%2012.371%202.84763C11.8147%203.0781%2011.3094%203.41589%2010.8838%203.84172L10.0004%204.72506L9.11709%203.84172C8.25735%202.98198%207.09128%202.49898%205.87542%202.49898C4.65956%202.49898%203.4935%202.98198%202.63376%203.84172C1.77401%204.70147%201.29102%205.86753%201.29102%207.08339C1.29102%208.29925%201.77401%209.46531%202.63376%2010.3251L3.51709%2011.2084L10.0004%2017.6917L16.4838%2011.2084L17.3671%2010.3251C17.7929%209.89943%2018.1307%209.39407%2018.3612%208.83785C18.5917%208.28164%2018.7103%207.68546%2018.7103%207.08339C18.7103%206.48132%2018.5917%205.88514%2018.3612%205.32893C18.1307%204.77271%2017.7929%204.26735%2017.3671%203.84172Z'%20fill='%23242424'%20stroke='%23242424'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",l={trash:ne,starOrange:ie,starGrey:re,arrowRight:oe,runningManLight:ce,xLight:le,heartDark:de,heartFilledDark:ue};function me({name:e,filter:t,imgURL:a}){return`<li class="exercise-card" data-name="${e}" data-filter="${t}">
  <a class="exercise-card-link" href="#">
    <img src="${a}" alt="${e}" class="exercise-card-img" loading="lazy" />
    <div class="exercise-card-overlay">
      <p class="exercise-card-name">${e}</p>
      <p class="exercise-card-subtitle">${t}</p>
    </div>
  </a>
</li>`}function N(e,{showTrash:t=!1}={}){const a=t?`<button class="workout-card-trash" type="button" aria-label="Remove from favorites" data-remove-id="${e._id}">
        <img src="${l.trash}" alt="" width="16" height="16" />
      </button>`:"",r=e.rating?e.rating.toFixed(1):"0.0";return`<li class="workout-card" data-exercise-id="${e._id}">
  <div class="workout-card-top">
    <span class="workout-card-badge">WORKOUT</span>
    <span class="workout-card-rating">${r}<img src="${l.starOrange}" alt="rating" /></span>
    ${a}
    <button class="workout-card-start" type="button" data-start-id="${e._id}">Start <img src="${l.arrowRight}" alt="" /></button>
  </div>
  <div class="workout-card-body">
    <div class="workout-card-icon">
      <img src="${l.runningManLight}" alt="" width="24" height="24" />
    </div>
    <h3 class="workout-card-name">${e.name}</h3>
  </div>
  <div class="workout-card-meta">
    <span>Burned calories: <strong>${e.burnedCalories} / ${e.time} min</strong></span>
    <span>Body part: <strong>${e.bodyPart}</strong></span>
    <span>Target: <strong>${e.target}</strong></span>
  </div>
</li>`}function ge(e,t){const a=pe(e.rating),r=t?"Remove from favorites":"Add to favorites",s=t?l.heartFilledDark:l.heartDark;return`<div class="modal-exercise-content">
  <button class="modal-close" type="button" aria-label="Close" data-modal-close>
    <img class="modal-close-icon" src="${l.xLight}" alt="" width="24" height="24" />
  </button>
  <div class="modal-exercise-gif">
    <img src="${e.gifUrl}" alt="${e.name}" />
  </div>
  <div class="modal-exercise-info">
    <h3 class="modal-exercise-title">${e.name}</h3>
    <div class="modal-exercise-rating">
      <span class="modal-exercise-rating-value">${e.rating.toFixed(1)}</span>
      <div class="modal-exercise-stars">${a}</div>
    </div>
    <div class="modal-exercise-details">
      <div class="modal-exercise-detail-item">
        <span class="modal-exercise-detail-label">Target</span>
        <span class="modal-exercise-detail-value">${e.target}</span>
      </div>
      <div class="modal-exercise-detail-item">
        <span class="modal-exercise-detail-label">Body Part</span>
        <span class="modal-exercise-detail-value">${e.bodyPart}</span>
      </div>
      <div class="modal-exercise-detail-item">
        <span class="modal-exercise-detail-label">Equipment</span>
        <span class="modal-exercise-detail-value">${e.equipment}</span>
      </div>
      <div class="modal-exercise-detail-item">
        <span class="modal-exercise-detail-label">Popular</span>
        <span class="modal-exercise-detail-value">${e.popularity}</span>
      </div>
      <div class="modal-exercise-detail-item">
        <span class="modal-exercise-detail-label">Burned calories</span>
        <span class="modal-exercise-detail-value">${e.burnedCalories}/${e.time} min</span>
      </div>
    </div>
    <p class="modal-exercise-desc">${e.description}</p>
    <div class="modal-exercise-actions">
      <button class="modal-btn modal-btn-fav" type="button" data-fav-id="${e._id}">
        <span>${r}</span>
        <img class="modal-btn-fav-icon" src="${s}" alt="" width="18" height="18" />
      </button>
      <button class="modal-btn modal-btn-rating" type="button" data-rating-id="${e._id}">Give a rating</button>
    </div>
  </div>
</div>`}function fe(e){return`<div class="modal-rating-content">
  <button class="modal-close" type="button" aria-label="Close" data-modal-close>
    <img class="modal-close-icon" src="${l.xLight}" alt="" width="28" height="28" />
  </button>
  <p class="modal-rating-label">Rating</p>
  <div class="modal-rating-row">
    <span class="modal-rating-value">0.0</span>
    <div class="modal-rating-stars">
      ${[1,2,3,4,5].map(t=>`<img class="modal-star" src="${l.starGrey}" alt="${t} star" width="24" height="24" data-star="${t}" />`).join("")}
    </div>
  </div>
  <form class="modal-rating-form" data-exercise-id="${e}">
    <input class="modal-rating-email" type="email" name="email" placeholder="Email" required />
    <textarea class="modal-rating-comment" name="review" placeholder="Your comment" rows="4"></textarea>
    <button class="modal-rating-submit" type="submit">Send</button>
    <p class="modal-rating-message" hidden></p>
  </form>
</div>`}function pe(e){const t=Math.round(e);return[1,2,3,4,5].map(a=>`<img src="${a<=t?l.starOrange:l.starGrey}" alt="" width="14" height="14" />`).join("")}function T(e,t,a,r){if(e.innerHTML="",a<=1)return;const s=t===1,n=t===a,i=document.createElement("div");i.classList.add("pagination-arrows"),i.innerHTML=`
    <button class="pagination-arrow" data-page="first" ${s?"disabled":""} aria-label="First page">
      <img src="./images/icons/chevron-double-left-${s?"light":"dark"}.svg" alt="" class="pagination-arrow-icon">
    </button>
    <button class="pagination-arrow" data-page="prev" ${s?"disabled":""} aria-label="Previous page">
      <img src="./images/icons/chevron-left-${s?"light":"dark"}.svg" alt="" class="pagination-arrow-icon">
    </button>
  `,e.appendChild(i);const o=document.createElement("div");o.classList.add("pagination-numbers"),he(t,a).forEach(p=>{if(p==="..."){const d=document.createElement("span");d.classList.add("pagination-ellipsis"),d.textContent="...",o.appendChild(d)}else{const d=document.createElement("span");d.classList.add("pagination-num"),p===t&&d.classList.add("is-active"),d.textContent=p,d.dataset.page=p,o.appendChild(d)}}),e.appendChild(o);const y=document.createElement("div");y.classList.add("pagination-arrows","pagination-arrows--right"),y.innerHTML=`
    <button class="pagination-arrow" data-page="next" ${n?"disabled":""} aria-label="Next page">
      <img src="./images/icons/chevron-left-${n?"light":"dark"}.svg" alt="" class="pagination-arrow-icon">
    </button>
    <button class="pagination-arrow" data-page="last" ${n?"disabled":""} aria-label="Last page">
      <img src="./images/icons/chevron-double-left-${n?"light":"dark"}.svg" alt="" class="pagination-arrow-icon">
    </button>
  `,e.appendChild(y),e.onclick=p=>{p.stopPropagation();const d=p.target.closest("[data-page]");if(!d||d.disabled)return;const H=d.dataset.page;let h;switch(H){case"first":h=1;break;case"prev":h=Math.max(1,t-1);break;case"next":h=Math.min(a,t+1);break;case"last":h=a;break;default:h=parseInt(H,10)}h!==t&&r(h)}}function he(e,t){if(t<=4)return Array.from({length:t},(i,o)=>o+1);const a=[],r=Math.ceil(t/2);let s=Math.max(1,e-1),n=Math.min(t,e+1);if(n-s<2&&(s===1?n=Math.min(3,t):n===t&&(s=Math.max(1,t-2))),e<=r){for(let i=s;i<=n;i++)a.push(i);n<t&&a.push("...")}else{s>1&&a.push("...");for(let i=s;i<=n;i++)a.push(i)}return a}let u,L;function ve(e){if(u=document.querySelector(".exercises-search"),!u)return;u.hidden=!1,L=e;const t=u.querySelector(".exercises-search-input"),a=u.querySelector(".exercises-search-btn");t.addEventListener("keydown",j),a.addEventListener("click",G)}function ye(){if(!u)return;u.hidden=!0;const e=u.querySelector(".exercises-search-input"),t=u.querySelector(".exercises-search-btn");e.value="",e.removeEventListener("keydown",j),t.removeEventListener("click",G),u=null,L=null}function j(e){e.key==="Enter"&&(e.preventDefault(),V())}function G(){V()}function V(){if(!u||!L)return;const e=u.querySelector(".exercises-search-input");L(e.value.trim())}let C={},w=1,f,M,R;function we(e,t,a,r,s,n){if(f=r,M=s,R=n,w=1,C={[t]:e,page:1,limit:10},a){a.innerHTML=`<span class="exercises-title-back">Exercises</span> / <span class="exercises-title-category">${e}</span>`;const i=a.querySelector(".exercises-title-back");i&&(i.style.cursor="pointer",i.addEventListener("click",()=>{J(),a&&(a.innerHTML="Exercises"),R()},{once:!0}))}ve(i=>{C.keyword=i||void 0,w=1,C.page=1,E()}),E()}function J(){ye(),f&&f.classList.remove("exercises-list--workouts")}async function E(){if(f)try{const e={...C,page:w};Object.keys(e).forEach(s=>e[s]===void 0&&delete e[s]);const t=await z(e),a=t.results||[];a.length===0?f.innerHTML='<li class="workout-card"><p style="padding:20px;text-align:center;">No exercises found.</p></li>':f.innerHTML=a.map(s=>N(s)).join(""),f.classList.add("exercises-list--workouts");const r=parseInt(t.totalPages,10)||1;M&&T(M,w,r,s=>{w=s,E()})}catch{f.innerHTML='<li class="workout-card"><p style="padding:20px;text-align:center;">Failed to load exercises.</p></li>'}}const Ce={muscles:"Muscles","body-parts":"Body parts",equipment:"Equipment"},Le={muscles:"muscles","body-parts":"bodypart",equipment:"equipment"};let x="muscles",$=1;function be(){const e=document.querySelector(".exercises-tabs"),t=document.querySelector(".exercises-list"),a=document.querySelector(".exercises-grid .pagination"),r=document.querySelector(".exercises-title");if(!e||!t)return;e.addEventListener("click",n=>{const i=n.target.closest(".exercises-tab");i&&(e.querySelectorAll(".exercises-tab").forEach(o=>o.classList.remove("is-active")),i.classList.add("is-active"),x=i.dataset.filter,$=1,J(),r&&(r.innerHTML="Exercises"),s())}),t.addEventListener("click",n=>{const i=n.target.closest(".exercise-card");if(!i)return;n.preventDefault();const o=i.dataset.name,g=Le[x];we(o,g,r,t,a,()=>{s()})});function s(){Q(x,$,t,a)}s()}async function Q(e,t,a,r){try{const s=await Y(Ce[e],t,12),n=s.results||[];a.innerHTML=n.map(me).join("");const i=parseInt(s.totalPages,10);r&&T(r,t,i,o=>{$=o,Q(e,o,a,r)})}catch{a.innerHTML='<li class="exercise-card"><p style="padding:20px;text-align:center;">Failed to load filters.</p></li>'}}const P="favorites",k=8;function b(){try{return JSON.parse(localStorage.getItem(P))||[]}catch{return[]}}function xe(e){const t=b();t.some(a=>a._id===e._id)||(t.push(e),localStorage.setItem(P,JSON.stringify(t)))}function U(e){const t=b().filter(a=>a._id!==e);localStorage.setItem(P,JSON.stringify(t))}function I(e){return b().some(t=>t._id===e)}function O(){const e=document.querySelector(".favorites-list"),t=document.querySelector(".favorites-content .pagination");if(!e)return;let a=1;function r(s){a=s;const n=b();if(n.length===0){e.innerHTML=`<li class="favorites-empty"><p>It appears that you haven't added any exercises to your favorites yet. Start exploring and add exercises that you enjoy to your favorites for easy access in the future.</p></li>`,t&&(t.innerHTML="");return}const i=Math.ceil(n.length/k);a>i&&(a=i);const o=(a-1)*k,g=n.slice(o,o+k);e.innerHTML=g.map(y=>N(y,{showTrash:!0})).join(""),t&&T(t,a,i,r)}e.addEventListener("click",s=>{const n=s.target.closest("[data-remove-id]");n&&(U(n.dataset.removeId),r(a))}),r(1)}function ke(){const e=document.querySelector(".footer-form");e&&e.addEventListener("submit",async t=>{t.preventDefault();const a=e.querySelector(".footer-input"),r=a.value.trim();if(!r)return;let s=e.querySelector(".footer-form-message");s||(s=document.createElement("p"),s.classList.add("footer-form-message"),e.appendChild(s));try{const n=await ee(r);s.textContent=n.message||"Subscription successful!",s.className="footer-form-message footer-form-message--success",s.hidden=!1,a.value=""}catch{s.textContent="Subscription failed. Please try again.",s.className="footer-form-message footer-form-message--error",s.hidden=!1}})}let c;function Se(){c=document.querySelector("[data-modal-rating]"),c&&(c.addEventListener("click",e=>{(e.target===c||e.target.closest("[data-modal-close]"))&&q()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&c&&!c.hidden&&q()}))}function Me(e){if(!c)return;c.innerHTML=fe(e),c.hidden=!1,document.body.style.overflow="hidden";let t=0;const a=c.querySelectorAll("[data-star]"),r=c.querySelector(".modal-rating-value"),s=c.querySelector(".modal-rating-form");a.forEach(n=>{n.style.cursor="pointer",n.addEventListener("click",()=>{t=parseInt(n.dataset.star,10),Ee(a,t),r&&(r.textContent=t.toFixed(1))})}),s&&s.addEventListener("submit",async n=>{n.preventDefault();const i=s.querySelector(".modal-rating-message"),o=s.email.value.trim(),g=s.review.value.trim();if(!t||!o){i&&(i.textContent="Please select a rating and enter your email.",i.hidden=!1);return}try{await X(e,{rate:t,email:o,review:g}),i&&(i.textContent="Thank you for your rating!",i.className="modal-rating-message modal-rating-message--success",i.hidden=!1),setTimeout(()=>q(),1500)}catch{i&&(i.textContent="Failed to send rating. Please try again.",i.className="modal-rating-message modal-rating-message--error",i.hidden=!1)}})}function q(){c&&(c.hidden=!0,c.innerHTML="",document.body.style.overflow="")}function Ee(e,t){e.forEach(a=>{const r=parseInt(a.dataset.star,10);a.src=r<=t?l.starOrange:l.starGrey})}let m;function $e(){m=document.querySelector("[data-modal-exercise]"),m&&(document.addEventListener("click",e=>{const t=e.target.closest("[data-start-id]");t&&qe(t.dataset.startId)}),m.addEventListener("click",e=>{(e.target===m||e.target.closest("[data-modal-close]"))&&F()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&!m.hidden&&F()}))}async function qe(e){try{const t=await W(e),a=I(e);m.innerHTML=ge(t,a),m.hidden=!1,document.body.style.overflow="hidden";const r=m.querySelector("[data-fav-id]");r&&r.addEventListener("click",()=>{const n=r.querySelector("span"),i=r.querySelector("img");if(I(e)?(U(e),n&&(n.textContent="Add to favorites"),i&&(i.src=l.heartDark)):(xe(t),n&&(n.textContent="Remove from favorites"),i&&(i.src=l.heartFilledDark)),document.querySelector(".favorites-list")&&document.querySelector(".favorites")){const{initFavoritesPage:g}=Fe();g&&g()}});const s=m.querySelector("[data-rating-id]");s&&s.addEventListener("click",()=>{F(),Me(s.dataset.ratingId)})}catch{}}function F(){m&&(m.hidden=!0,m.innerHTML="",document.body.style.overflow="")}function Fe(){return{initFavoritesPage:window.__reinitFavorites}}const B=document.querySelector("[data-menu-open]"),A=document.querySelector("[data-menu-close]"),S=document.querySelector("[data-menu]");B&&A&&S&&(B.addEventListener("click",()=>{S.classList.add("is-open"),document.body.style.overflow="hidden"}),A.addEventListener("click",()=>{S.classList.remove("is-open"),document.body.style.overflow=""}));se();ke();$e();Se();document.querySelector(".exercises")&&be();document.querySelector(".favorites")&&(O(),window.__reinitFavorites=O);
//# sourceMappingURL=main-vIf4hPrE.js.map
